<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ki: IPCTool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ki
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">A Tool to copy files in variety of ways(good and bad ones)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classIPCTool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">IPCTool Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="IPCTool_8hpp_source.html">IPCTool.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for IPCTool:</div>
<div class="dyncontent">
<div class="center"><img src="classIPCTool__inherit__graph.png" border="0" usemap="#aIPCTool_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for IPCTool:</div>
<div class="dyncontent">
<div class="center"><img src="classIPCTool__coll__graph.png" border="0" usemap="#aIPCTool_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ada35b7c2a277b1fc7fbd9e5ee71179b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIPCTool.html#ada35b7c2a277b1fc7fbd9e5ee71179b6">IPCTool</a> (std::unique_ptr&lt; <a class="el" href="classBufferedReader.html">BufferedReader</a>&lt; boost::interprocess::interprocess_mutex, boost::interprocess::interprocess_condition, boost::interprocess::scoped_lock, boost::interprocess::deque &gt;&gt; fileReader, std::unique_ptr&lt; <a class="el" href="classBufferedFileWriter.html">BufferedFileWriter</a>&lt; boost::interprocess::interprocess_mutex, boost::interprocess::interprocess_condition, boost::interprocess::scoped_lock, boost::interprocess::deque &gt;&gt; fileWriter, <a class="el" href="classFixedBufferQueue.html">FixedBufferQueue</a>&lt; boost::interprocess::interprocess_mutex, boost::interprocess::interprocess_condition, boost::interprocess::scoped_lock, boost::interprocess::deque &gt; *queue, std::shared_ptr&lt; <a class="el" href="classSharedMemoryManager.html">SharedMemoryManager</a> &gt; SharedMemManager, <a class="el" href="IPCToolType_8hpp.html#afef3d7d0afec25786663538afdba3d44">ProcessType</a> toolType)</td></tr>
<tr class="separator:ada35b7c2a277b1fc7fbd9e5ee71179b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2debb1a7b54af5ae395b7cbcdf1183b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIPCTool.html#a2debb1a7b54af5ae395b7cbcdf1183b9">~IPCTool</a> ()</td></tr>
<tr class="separator:a2debb1a7b54af5ae395b7cbcdf1183b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30b2c19f12c6735ee7d092a9d1deab7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classIPCTool.html#a30b2c19f12c6735ee7d092a9d1deab7e">copy</a> () override</td></tr>
<tr class="memdesc:a30b2c19f12c6735ee7d092a9d1deab7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs the copying of the file.  <a href="classIPCTool.html#a30b2c19f12c6735ee7d092a9d1deab7e">More...</a><br /></td></tr>
<tr class="separator:a30b2c19f12c6735ee7d092a9d1deab7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classICopyTool"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classICopyTool')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classICopyTool.html">ICopyTool</a></td></tr>
<tr class="memitem:aeee82267115943ce47808bc3738eb2d1 inherit pub_methods_classICopyTool"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classICopyTool.html#aeee82267115943ce47808bc3738eb2d1">~ICopyTool</a> ()=default</td></tr>
<tr class="separator:aeee82267115943ce47808bc3738eb2d1 inherit pub_methods_classICopyTool"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>IPC version of copy tool As <a class="el" href="classBPCopyTool.html">BPCopyTool</a> the <a class="el" href="classIPCTool.html">IPCTool</a> utilizes optimized File I/O and memory allocation (allocated once in shared memory) Performs Reading and Writing in different processes Utilizing shared memory </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ada35b7c2a277b1fc7fbd9e5ee71179b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada35b7c2a277b1fc7fbd9e5ee71179b6">&#9670;&nbsp;</a></span>IPCTool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IPCTool::IPCTool </td>
          <td>(</td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classBufferedReader.html">BufferedReader</a>&lt; boost::interprocess::interprocess_mutex, boost::interprocess::interprocess_condition, boost::interprocess::scoped_lock, boost::interprocess::deque &gt;&gt;&#160;</td>
          <td class="paramname"><em>fileReader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="classBufferedFileWriter.html">BufferedFileWriter</a>&lt; boost::interprocess::interprocess_mutex, boost::interprocess::interprocess_condition, boost::interprocess::scoped_lock, boost::interprocess::deque &gt;&gt;&#160;</td>
          <td class="paramname"><em>fileWriter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classFixedBufferQueue.html">FixedBufferQueue</a>&lt; boost::interprocess::interprocess_mutex, boost::interprocess::interprocess_condition, boost::interprocess::scoped_lock, boost::interprocess::deque &gt; *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="classSharedMemoryManager.html">SharedMemoryManager</a> &gt;&#160;</td>
          <td class="paramname"><em>SharedMemManager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="IPCToolType_8hpp.html#afef3d7d0afec25786663538afdba3d44">ProcessType</a>&#160;</td>
          <td class="paramname"><em>toolType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fileReader</td><td>pointer to the reader object, the object type is strongly defined as BufferedReader&lt;boost::interprocess::interprocess_mutex, boost::interprocess::interprocess_condition, boost::interprocess::scoped_lock, boost::interprocess::deque&gt; to emphasize the reader class with such template arguments is used for ipc application </td></tr>
    <tr><td class="paramname">fileWriter</td><td>pointer to the writer object, the object type is strongly defined as BufferedWriter&lt;boost::interprocess::interprocess_mutex, boost::interprocess::interprocess_condition, boost::interprocess::scoped_lock, boost::interprocess::deque&gt; to emphasize the writer class with such template arguments is used for non ipc application </td></tr>
    <tr><td class="paramname">queue</td><td>pointer to IPC queue </td></tr>
    <tr><td class="paramname">SharedMemManager</td><td>pointer to a shared memory manager, object that is responsible for shared memory allocation/deallocation also provides allocators that alloate memory within shared memory region </td></tr>
    <tr><td class="paramname">toolType</td><td>type of currently running process (writer or reader), should be determined before the <a class="el" href="classIPCTool.html">IPCTool</a> object construction in order to correctly increment counters of Reader and Writer process that are used to correctly deallocate shared memory resources and kill idling processes after some timeout To determine what type of tool to create use bool <a class="el" href="classSharedMemoryManager.html#ae7f5912dd90478549afb504cd30c9080">SharedMemoryManager::isFirstProcess()</a> First process is always reader, the second is writer </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2debb1a7b54af5ae395b7cbcdf1183b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2debb1a7b54af5ae395b7cbcdf1183b9">&#9670;&nbsp;</a></span>~IPCTool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IPCTool::~IPCTool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a30b2c19f12c6735ee7d092a9d1deab7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30b2c19f12c6735ee7d092a9d1deab7e">&#9670;&nbsp;</a></span>copy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void IPCTool::copy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs the copying of the file. </p>

<p>Implements <a class="el" href="classICopyTool.html#ae1f69085c997e192337781f0e34a6ea5">ICopyTool</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/ki/ki/src/common/<a class="el" href="IPCTool_8hpp_source.html">IPCTool.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
